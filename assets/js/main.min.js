"use strict";

document.addEventListener("DOMContentLoaded", function () {
  /*------- INITIAL PARALLAX--------  */
  const rellax = new Rellax(".rellax");

  /*------- INITIAL SLIDER IN GRAPHIC SECTION ------ */
  const swiper = new Swiper(".graphic-slider", {
    init: false,
    effect: "coverflow",
    coverflowEffect: {
      slideShadows: false,
      rotate: 0,
      stretch: 0,
      depth: 200,
      modifier: 1,
    },
    navigation: {
      nextEl: ".swiper-button-next",
      prevEl: ".swiper-button-prev",
    },
    zoom: false,
    keyboard: {
      enabled: true,
      onlyInViewport: false,
    },
    grabCursor: false,
    centeredSlides: true,
    loop: true,
    freeMode: false,
    breakpoints: {
      320: {
        slidesPerView: 1,
        spaceBetween: 20,
      },
      769: {
        slidesPerView: 2,
        spaceBetween: 100,
      },
    },
  });

  // const zoomBtn = document.querySelector(".zoom-btn");
  // zoomBtn.addEventListener("click", swiper.zoom.toggle.bind(swiper));

  function addStyleToSiblingSlidesOfCurrentActiveSlide() {
    const mySlides = Array.from(swiper.slides);
    mySlides.forEach((slide) => {
      slide.classList.add("grey-bg");
      const current = swiper.slides[swiper.activeIndex];
      current.classList.remove("grey-bg");
    });
  }

  swiper.on("slideChange", function () {
    addStyleToSiblingSlidesOfCurrentActiveSlide();
  });

  swiper.on("init", function () {
    addStyleToSiblingSlidesOfCurrentActiveSlide();
  });

  swiper.init();

  /* INITIAL SLIDER IN FOOTER  */
  const footerSlider = new Swiper(".photo-slider", {
    slidesPerView: 2,
    spaceBetween: 100,
    loopFillGroupWithBlank: true,
    loop: true,

    navigation: {
      nextEl: ".swiper-button-next",
      prevEl: ".swiper-button-prev",
    },
    breakpoints: {
      320: {
        slidesPerView: 1,
        spaceBetween: 20,
      },
      768: {
        slidesPerView: 2,
        spaceBetween: 50,
      },
      1200: {
        slidesPerView: 2,
        spaceBetween: 100,
      },
    },
  });

  /* INITIAL BURGER BUTTON */
  const burgerBtn = document.querySelector(".hamburger");
  const navMenu = document.querySelector(".nav-menu");

  burgerBtn.addEventListener("click", function () {
    this.classList.toggle("is-active");
    navMenu.classList.toggle("to-show");
  });

  navMenu.addEventListener("click", function () {
    navMenu.classList.toggle("to-show");
    burgerBtn.classList.toggle("is-active");
  });

  /* INITIAL SMOOTH SCROLL */
  const scroll = new SmoothScroll('a[href*="#"]');
});
